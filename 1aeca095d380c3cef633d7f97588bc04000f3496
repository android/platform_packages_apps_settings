{
  "comments": [
    {
      "key": {
        "uuid": "5261dcb6_187164e8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1110928
      },
      "writtenOn": "2017-12-12T18:06:09Z",
      "side": 1,
      "message": "Can you make this into a automated instrumentation test?",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 10,
        "endChar": 3
      },
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa4a6318_fb2d9655",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1045544
      },
      "writtenOn": "2017-12-13T12:01:24Z",
      "side": 1,
      "message": "Not easily, as it turns out. The code is quite old and I don\u0027t think it\u0027s a good idea to start refactoring the whole structure of this class in this tiny CL to work with functional tests.\n\nThe legacy instrumentation test framework doesn\u0027t have a lot of options for avoiding setting FLAG_NEW_TASK (which DeviceAdminAdd cancels itself if it sees, for whatever reason).",
      "parentUuid": "5261dcb6_187164e8",
      "range": {
        "startLine": 9,
        "startChar": 3,
        "endLine": 10,
        "endChar": 3
      },
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88dac181_abc53b58",
        "filename": "src/com/android/settings/DeviceAdminAdd.java",
        "patchSetId": 1
      },
      "lineNbr": 701,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2017-12-12T14:18:24Z",
      "side": 1,
      "message": "Can i.getPackageName be null here?\n\nMaybe putting @NonNull in packageName and swap the order to be packageName.equals(i.getPackageName)? And the caller of this function to make sure packageName is not null?\n\nI was told to avoid using the fancy java8 stream in platform code due to the expensive cost. But I *guess* it is okay here given that it is neither in system server nor in a critical code path.\n\nThanks.",
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bfb81994_422b1e1d",
        "filename": "src/com/android/settings/DeviceAdminAdd.java",
        "patchSetId": 1
      },
      "lineNbr": 701,
      "author": {
        "id": 1045544
      },
      "writtenOn": "2017-12-12T14:27:30Z",
      "side": 1,
      "message": "About getPackageName: ComponentName.getPackageName() is annotated @NonNull and, pleasantly, the constructor etc. actually enforce this, so we\u0027re best off with it being this way round (@NonNull.equals(@Nullable)).\n\nAbout streams: yes, I wasn\u0027t entirely sure but I had similar reasoning and saw there are now a small number of other places in Settings using stream(). I like this kind of code and find it harder to make mistakes with, but if anyone objects strongly I can rewrite it to for-if again.",
      "parentUuid": "88dac181_abc53b58",
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4601ea28_caa8ca86",
        "filename": "src/com/android/settings/DeviceAdminAdd.java",
        "patchSetId": 1
      },
      "lineNbr": 701,
      "author": {
        "id": 1060841
      },
      "writtenOn": "2017-12-12T14:30:04Z",
      "side": 1,
      "message": "got it, thanks.",
      "parentUuid": "bfb81994_422b1e1d",
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f958584b_e5890fc0",
        "filename": "src/com/android/settings/DeviceAdminAdd.java",
        "patchSetId": 1
      },
      "lineNbr": 701,
      "author": {
        "id": 1110928
      },
      "writtenOn": "2017-12-12T18:06:09Z",
      "side": 1,
      "message": "I",
      "parentUuid": "4601ea28_caa8ca86",
      "revId": "1aeca095d380c3cef633d7f97588bc04000f3496",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}